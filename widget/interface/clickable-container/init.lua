--  ______ __ __        __           __     __
-- |      |  |__|.----.|  |--.---.-.|  |--.|  |.-----.
-- |   ---|  |  ||  __||    <|  _  ||  _  ||  ||  -__|
-- |______|__|__||____||__|__|___._||_____||__||_____|

--  ______               __          __
-- |      |.-----.-----.|  |_.---.-.|__|.-----.-----.----.
-- |   ---||  _  |     ||   _|  _  ||  ||     |  -__|   _|
-- |______||_____|__|__||____|___._||__||__|__|_____|__|
-- ########################################################################
-- ########################################################################
-- ########################################################################
local wibox = require("wibox")
local beautiful = require("beautiful")
-- ########################################################################
-- ########################################################################
-- ########################################################################
local function build(widget)
	local container =
		wibox.widget(
		{
			widget,
			widget = wibox.container.background,
			bg = "radial:960,540,10:0,0,10:0,##17191e99:0.34,#3c3f4c88:0.65,#22262d88:1,#22262d88",
			border_color = beautiful.xcolor7 .. "66",
			border_width = dpi(3),
			margins = dpi(3),
			shape = beautiful.btn_sm_shape
		}
	)
	local old_cursor, old_wibox
	-- ########################################################################
	-- ########################################################################
	-- ########################################################################
	container:connect_signal(
		"mouse::enter",
		function()
			container.border_color = beautiful.xcolor7

			container.bg = "radial:1024,960,20:960,540,500:0,#22262d88:0.2,#3c3f4c88:0.65,#17191e88:1,#3c3f4c88"
			local w = mouse.current_wibox
			if w then
				old_cursor, old_wibox = w.cursor, w
				w.cursor = "hand1"
			end
		end
	)
	-- ########################################################################
	-- ########################################################################
	-- ########################################################################
	container:connect_signal(
		"mouse::leave",
		function()
			container.border_color = beautiful.xcolor7 .. "66"
			container.bg = "radial:960,540,10:0,0,10:0,##17191e99:0.34,#3c3f4c88:0.65,#22262d88:1,#22262d88"
			if old_wibox then
				old_wibox.cursor = old_cursor
				old_wibox = nil
			end
		end
	)
	-- ########################################################################
	-- ########################################################################
	-- ########################################################################
	container:connect_signal(
		"button::press",
		function()
			container.border_width = dpi(4)
			container.border_color = beautiful.xcolor7
			container.bg = "radial:1024,960,20:960,540,500:0,#3c3f4c88:0.2,#3c3f4c88:0.65,#17191e88:1,#22262d88"
		end
	)
	-- ########################################################################
	-- ########################################################################
	-- ########################################################################
	container:connect_signal(
		"button::release",
		function()
			container.border_width = dpi(3)
			container.border_color = beautiful.xcolor7 .. "66"
			container.bg = "radial:960,540,10:0,0,10:0,##17191e99:0.34,#3c3f4c88:0.65,#22262d88:1,#22262d88"
		end
	)
	-- ########################################################################
	-- ########################################################################
	-- ########################################################################
	return container
end
-- ########################################################################
-- ########################################################################
-- ########################################################################
return build
