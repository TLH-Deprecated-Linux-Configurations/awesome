--  _____         __
-- |     \.-----.|  |.---.-.--.--.
-- |  --  |  -__||  ||  _  |  |  |
-- |_____/|_____||__||___._|___  |
--                         |_____|
--  _______ __
-- |_     _|__|.--------.-----.----.
--   |   | |  ||        |  -__|   _|
--   |___| |__||__|__|__|_____|__|

-- ########################################################################
-- ########################################################################
-- ########################################################################
-- provides a timer to enable certain functionality that is served best with
-- a timer.
-- ########################################################################
-- ########################################################################
-- ########################################################################
-- return is wrapping the whole function, like its react
return function(timeout, callback, delay, only_delay)
    local timer =
        gears.timer {
        timeout = timeout,
        call_now = true,
        callback = callback
    }
    -- ########################################################################
    -- ########################################################################
    -- ########################################################################
    -- tier itself
    gears.timer {
        timeout = delay,
        autostart = true,
        single_shot = true,
        callback = function()
            timer:start()
        end
    }
    -- ########################################################################
    -- ########################################################################
    -- ########################################################################
    -- run the callback when starting up
    -- this insures generated data
    if not only_delay then
        callback()
    end

    return timer
end
