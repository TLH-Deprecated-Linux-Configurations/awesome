
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inline options &#8212; luacheck 0.25.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Luacheck module" href="module.html" />
    <link rel="prev" title="Configuration file" href="config.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="inline-options">
<h1>Inline options<a class="headerlink" href="#inline-options" title="Permalink to this headline">Â¶</a></h1>
<p>Luacheck supports setting some options directly in the checked files using inline configuration comments. These inline options have the highest priority, overwriting both config options and CLI options.</p>
<p>An inline configuration comment is a short comment starting with <code class="docutils literal notranslate"><span class="pre">luacheck:</span></code> label, possibly after some whitespace. The body of the comment should contain comma separated options, where option invocation consists of its name plus space separated arguments. It can also contain notes enclosed in balanced parentheses, which are ignored. The following options are supported:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Number of arguments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>global</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>unused</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>redefined</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>unused args</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>unused secondaries</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>self</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>compat</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>module</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>allow defined</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>allow defined top</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>max line length</p></td>
<td><p>1 (with <code class="docutils literal notranslate"><span class="pre">no</span></code> and no arguments disables line length checks)</p></td>
</tr>
<tr class="row-odd"><td><p>max code line length</p></td>
<td><p>1 (with <code class="docutils literal notranslate"><span class="pre">no</span></code> and no arguments disables code line length checks)</p></td>
</tr>
<tr class="row-even"><td><p>max string line length</p></td>
<td><p>1 (with <code class="docutils literal notranslate"><span class="pre">no</span></code> and no arguments disables string line length checks)</p></td>
</tr>
<tr class="row-odd"><td><p>max comment line length</p></td>
<td><p>1 (with <code class="docutils literal notranslate"><span class="pre">no</span></code> and no arguments disables comment line length checks)</p></td>
</tr>
<tr class="row-even"><td><p>std</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>globals</p></td>
<td><p>0+</p></td>
</tr>
<tr class="row-even"><td><p>new globals</p></td>
<td><p>0+</p></td>
</tr>
<tr class="row-odd"><td><p>read globals</p></td>
<td><p>0+</p></td>
</tr>
<tr class="row-even"><td><p>new read globals</p></td>
<td><p>0+</p></td>
</tr>
<tr class="row-odd"><td><p>not globals</p></td>
<td><p>0+</p></td>
</tr>
<tr class="row-even"><td><p>ignore</p></td>
<td><p>0+ (without arguments everything is ignored)</p></td>
</tr>
<tr class="row-odd"><td><p>enable</p></td>
<td><p>1+</p></td>
</tr>
<tr class="row-even"><td><p>only</p></td>
<td><p>1+</p></td>
</tr>
</tbody>
</table>
<p>Options that take no arguments can be prefixed with <code class="docutils literal notranslate"><span class="pre">no</span></code> to invert their meaning. E.g. <code class="docutils literal notranslate"><span class="pre">--luacheck:</span> <span class="pre">no</span> <span class="pre">unused</span> <span class="pre">args</span></code> disables unused argument warnings.</p>
<p>Part of the file affected by inline option dependes on where it is placed. If there is any code on the line with the option, only that line is affected; otherwise, everything till the end of the current closure is. In particular, inline options at the top of the file affect all of it:</p>
<div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span class="lineno"> 1 </span><span class="c1">-- luacheck: globals g1 g2, ignore foo</span>
<span class="lineno"> 2 </span><span class="kd">local</span> <span class="n">foo</span> <span class="o">=</span> <span class="n">g1</span><span class="p">(</span><span class="n">g2</span><span class="p">)</span> <span class="c1">-- No warnings emitted.</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="c1">-- The following unused function is not reported.</span>
<span class="lineno"> 5 </span><span class="kd">local</span> <span class="kr">function</span> <span class="nf">f</span><span class="p">()</span> <span class="c1">-- luacheck: ignore</span>
<span class="lineno"> 6 </span>   <span class="c1">-- luacheck: globals g3</span>
<span class="lineno"> 7 </span>   <span class="n">g3</span><span class="p">()</span> <span class="c1">-- No warning.</span>
<span class="lineno"> 8 </span><span class="kr">end</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span><span class="n">g3</span><span class="p">()</span> <span class="c1">-- Warning is emitted as the inline option defining g3 only affected function f.</span>
</pre></div>
</div>
<p>For fine-grained control over inline option visibility use <code class="docutils literal notranslate"><span class="pre">luacheck:</span> <span class="pre">push</span></code> and <code class="docutils literal notranslate"><span class="pre">luacheck:</span> <span class="pre">pop</span></code> directives:</p>
<div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span class="lineno">1 </span><span class="c1">-- luacheck: push ignore foo</span>
<span class="lineno">2 </span><span class="n">foo</span><span class="p">()</span> <span class="c1">-- No warning.</span>
<span class="lineno">3 </span><span class="c1">-- luacheck: pop</span>
<span class="lineno">4 </span><span class="n">foo</span><span class="p">()</span> <span class="c1">-- Warning is emitted.</span>
</pre></div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">luacheck</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="warnings.html">List of warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration file</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Inline options</a></li>
<li class="toctree-l1"><a class="reference internal" href="module.html">Luacheck module</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="config.html" title="previous chapter">Configuration file</a></li>
      <li>Next: <a href="module.html" title="next chapter">Luacheck module</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014 - 2018, Peter Melnichenko.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/inline.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>